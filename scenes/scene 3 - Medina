#include <iostream>
#include <unistd.h>
using namespace std;

/* ---------- Typing Effects ---------- */

// WORD-by-word (dialogue)
void typeWords(string text, int delay = 80000) {
    string word = "";
    for (char c : text) {
        if (c == ' ') {
            cout << word << " ";
            cout.flush();
            usleep(delay);
            word = "";
        } else {
            word += c;
        }
    }
    cout << word << endl;
    usleep(delay);
}

// LINE-by-line (actions)
void typeLine(string text, int delay = 200000) {
    cout << text << endl;
    usleep(delay);
}

/* ---------- Scene 3 ---------- */
void scene_bar_flambae() {
    int choice;

    cout << "\n===== Scene 3: Bar Flambae =====\n\n";

    typeLine("*A glass shatters nearby*  (‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØÔ∏µ ‚îª‚îÅ‚îª");
    typeWords("Mecha Man: What're you doing?");
    typeWords("Person: Hey! Bitch!..... Hey! I'm talkin' to you bitch!");
    typeWords("Mecha Man: Alright, just so you know, I only turned around cause someone yelled,");
    typeWords("not because I'm a bitch or anything.");

    typeWords("Flambae: Don't you watch the news? This is a superhero bar.");
    typeWords("Mecha Man: Oh, wow, are you a superhero? That's so cool.");
    typeWords("Is this your power?");
    typeWords("You're like, tell people obvious shit guy?");

    typeWords("Flambae: You're really gonna act like you don't remember me?");
    typeWords("Mecha Man: Wait, it's coming back to me...");
    typeWords("Yeah, it's coming back to me...");

    cout << "\n1. Dr. Don't Do Shit";
    cout << "\n2. Mr. Wet Ponytail";
    cout << "\n3. Sunglasses at Night Guy";
    cout << "\nChoice: ";
    cin >> choice;

    typeWords("Oh wait, I know it.");

    if (choice == 1) {
        typeWords("You are Dr. Don't Do Shit.");
        typeWords("Your deal is you walk up to people, look threatening,");
        typeWords("talk a big game, then don't do shit about it.");
        typeWords("Also, you're not a real doctor cause you're a fuckin' idiot.");
    }
    else if (choice == 2) {
        typeWords("You are Mr. Wet Ponytail.");
        typeWords("Your superpower is in your ponytail, which aside from being disgusting,");
        typeWords("has the ability to never not be wet.");
        typeWords("In battle, you whip it around and anyone it touches fuckin' kills themself.");
    }
    else if (choice == 3) {
        typeWords("You are Sunglasses Indoors at Night Guy.");
        typeWords("Your superpower is letting everyone know in the room");
        typeWords("that you're a douchebag.");
        typeWords("Cause you should literally never do that.");
    }
    else {
        typeWords("Mecha Man: ...Yeah, I lost it.");
    }

    typeWords("Flambae: You good?");
    typeLine("*Someone chuckles*");
    typeWords("Woman: Sorry, I choked on my spit.");
    typeWords("No, Mecha Bitch. I control the fire--");

    typeWords("Mecha Man: The fire?");
    typeWords("Flambae: And the flame.");
    typeWords("And my skin does not burn.");
    typeWords("I am Flambae.");

    typeWords("Mecha Man: Wait, oh shit. I do remember you.");
    typeWords("You're that shitty villain I busted up.");

    typeWords("Flambae: Not anymore, Mecha Dick.");
    typeWords("As I literally just said, I am Flambae, a real superhero.");
    typeWords("And you are not Mecha Man anymore.");
    typeWords("So you need to get the fuck out of here.");

    cout << "\n1. Water";
    cout << "\n2. Alcohol";
    cout << "\nChoice: ";
    cin >> choice;

    if (choice == 1) {
        typeLine("*You throw water on Flambae*  („Å£„Éªœâ„Éª)„Å£üíß");
        typeWords("Mecha Man: There. The easy way.");
        typeWords("Flambae: I've been waiting a long time for this.");
        typeLine("*Flambae charges, slips, and knocks himself out*  (x_x)");
        typeLine("*Coupe and Punch-up runoff to get him*");
        typeWords("Dobble: Hey, why don't you do us a favor and step out of this bar.");        
        typeWords("Mecha Man: I get it. Can you just tell Blazer I'm outside?");
        typeLine("*Dopple duplicates*");
        typeWords("Dopple: OUT!.");
        typeWords("Mecha Man: Relax! I'm leaving.");
    }
    else if (choice == 2) {
        typeLine("*You throw alcohol on Flambae*  („Å£üî•)„Å£ü•É");
        typeLine("*The flames burn Flambae as he screams*  (üî•üî•üî•)");
        typeWords("Mecha Man: Sorry, which way was that.");
        typeLine("*A man hurries to grab a tray*");
        typeWords("Waiter: Hey!.");
        typeWords("Coupe: No, Punch-up, you are literally fanning the flames right now.");
        typeWords("Punch-up: Shit, you're right. Anybody got a rug?");
        typeWords("Flambae: Fuck!");
        typeLine("*Flambae rushes out of the bar screaming*");
        typeWords("Punch-up: You gotta drop and roll, lad");
        typeWords("Mecha Man: I thought he doesn't burn");
        typeWords("Coupe: Some people become scared before they even know they're hurt...");
        typeWords("Coupe: like babies.");
        typeLine("*Coupe walks out*");
        typeWords("Dopple: HEY! Mecha Dick. Get the fuck out of here.");
        typeWords("Mecha Man: I get it. Can you just tell Blazer I'm outside?");
        typeLine("*Dopple duplicates*");
        typeWords("Dopple: OUT!.");
        typeWords("Mecha Man: Relax! I'm leaving.");
    }
    else {
        typeWords("Mecha Man: Yeah... bad call.");
    }
    cout << "\n===== End of Scene 3 =====\n";
}

/* ---------- Standalone Main ---------- */
int main() {
    scene_bar_flambae();
    return 0;
}
